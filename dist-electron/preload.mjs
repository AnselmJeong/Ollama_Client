"use strict";const n=require("electron");n.contextBridge.exposeInMainWorld("ipcRenderer",{on(...e){const[t,r]=e;return n.ipcRenderer.on(t,(i,...c)=>r(i,...c))},off(...e){const[t,...r]=e;return n.ipcRenderer.off(t,...r)},send(...e){const[t,...r]=e;return n.ipcRenderer.send(t,...r)},invoke(...e){const[t,...r]=e;return n.ipcRenderer.invoke(t,...r)}});n.contextBridge.exposeInMainWorld("db",{getProjects:()=>n.ipcRenderer.invoke("get-projects"),createProject:e=>n.ipcRenderer.invoke("create-project",e),getChats:e=>n.ipcRenderer.invoke("get-chats",e),createChat:e=>n.ipcRenderer.invoke("create-chat",e),deleteChat:e=>n.ipcRenderer.invoke("delete-chat",e),getMessages:e=>n.ipcRenderer.invoke("get-messages",e),addMessage:e=>n.ipcRenderer.invoke("add-message",e),getTemplates:()=>n.ipcRenderer.invoke("get-templates"),createTemplate:e=>n.ipcRenderer.invoke("create-template",e),updateTemplate:e=>n.ipcRenderer.invoke("update-template",e),deleteTemplate:e=>n.ipcRenderer.invoke("delete-template",e),getSetting:e=>n.ipcRenderer.invoke("get-setting",e),setSetting:(e,t)=>n.ipcRenderer.invoke("set-setting",e,t)});n.contextBridge.exposeInMainWorld("ollama",{getModels:()=>n.ipcRenderer.invoke("ollama-get-models"),chatStream:e=>n.ipcRenderer.invoke("ollama-chat",e),onChatChunk:e=>{const t=(r,i)=>e(i);return n.ipcRenderer.on("ollama-chat-chunk",t),()=>n.ipcRenderer.removeListener("ollama-chat-chunk",t)}});n.contextBridge.exposeInMainWorld("fs",{readFile:e=>n.ipcRenderer.invoke("read-file",e),saveFile:(e,t)=>n.ipcRenderer.invoke("save-file",{content:e,defaultPath:t})});
